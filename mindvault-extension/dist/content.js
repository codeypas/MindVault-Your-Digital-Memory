(()=>{let o="";const a=window.chrome;async function e(){try{if(navigator.clipboard&&navigator.clipboard.readText){const t=await navigator.clipboard.readText();t&&t!==o&&t.trim().length>0&&(o=t,a.runtime.sendMessage({type:"CLIPBOARD_CAPTURED",content:t.trim()}))}}catch{console.log("Clipboard access denied")}}document.addEventListener("copy",()=>{setTimeout(e,100)}),document.addEventListener("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.key==="c"&&setTimeout(e,100)});let i;function n(){i=setInterval(e,2e3)}function r(){i&&clearInterval(i)}document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?n():r()}),document.visibilityState==="visible"&&n()})();
