(()=>{let s="";const c=window.chrome;function d(t){const e=t.trim();if(e.length===0)return!1;const l=[/^<!DOCTYPE html>/i,/<html[\s>]/i,/<head[\s>]/i,/<body[\s>]/i,/<div[\s>]/i,/<span[\s>]/i,/<p[\s>]/i,/<a\s+href=/i,/<img\s+src=/i,/<script[\s>]/i,/<style[\s>]/i,/<\/[a-z][^>]*>/i,/&lt;!--/i];for(const f of l)if(f.test(e))return!0;const u=(e.match(/[{};:]/g)||[]).length,i=e.replace(/\s/g,"").length;if(i>20&&u/i>.08||/(font-family|color|background|margin|padding|border|px|em|rem|vh|vw)\s*:/i.test(e)||e.startsWith("{")&&e.endsWith("}")||e.startsWith("[")&&e.endsWith("]")||/["']\s*:\s*["']/i.test(e)||/(function|const|let|var|class)\s+\w+\s*$$.*$$\s*{/i.test(e))return!0;const m=(e.match(/[<>{}[\]"']/g)||[]).length;return i>30&&m/i>.05}async function r(){try{if(navigator.clipboard&&navigator.clipboard.readText){const t=await navigator.clipboard.readText();t&&t!==s&&t.trim().length>0&&!d(t.trim())&&(s=t,c.runtime.sendMessage({type:"CLIPBOARD_CAPTURED",content:t.trim()}))}}catch(t){console.log("Clipboard access denied or failed to read:",t)}}document.addEventListener("copy",()=>{setTimeout(r,100)}),document.addEventListener("keydown",t=>{(t.ctrlKey||t.metaKey)&&t.key==="c"&&setTimeout(r,100)});let n;function o(){a(),n=setInterval(r,2e3)}function a(){n&&clearInterval(n)}document.addEventListener("visibilitychange",()=>{document.visibilityState==="visible"?o():a()}),document.visibilityState==="visible"&&o()})();
